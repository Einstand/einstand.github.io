<!doctype html>
<html lang="en">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta lastUpdate="2019/05/12">
      <!-- Bootstrap CSS -->
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <title>Flow7WebSim</title>
   </head>
   <!-- All ID List

     ID_AccountEdit
     ID_PasswordEdit
     ID_LoginDialog
     ID_LoginForm
     ID_MenuToggle
   
   -->
   <style>
      #sidebar-wrapper {
        min-height: calc(100vh - 56px); /* 56px 是我目測的, 因為找不到計算 Navbar 高度的好方法 */
      }
      #sidebar-wrapper {
        /* 設定 sidebar 的寬度 15rem, margin-left 為 -15rem. 也就是預設為隱藏 */   
        width: 15rem;
        margin-left: -15rem;
        /* 讓 sidebar 在顯示或隱藏時, 加上滑動的特效 */   
        -webkit-transition: margin .25s ease-out;
        -moz-transition: margin .25s ease-out;
        -o-transition: margin .25s ease-out;
        transition: margin .25s ease-out;     
      }
      /* 讓 sidebar 在上層(#wrapper)有 toggled 屬性時, margin-left 設為 0px (顯示之)*/
      #wrapper.toggled #sidebar-wrapper {
        margin-left: 0px;
      }
      #page-content-wrapper {
        min-width: 100vw;
      }
      /* 讓 sidebar 在 media 的寬度在 768px 以上時, 預設為顯示 */
      @media (min-width: 768px) {
      /* 768px 以上時, margin-left 自動設為 0px (顯示之) */
        #sidebar-wrapper {
          margin-left: 0px;
        }
      /* 768px 以上時, 在上層(#wrapper)有 toggled 屬性時, margin-left 設為 -15rem (隱藏之) */
        #wrapper.toggled #sidebar-wrapper {
          margin-left: -15rem;
        }
        #page-content-wrapper {
          min-width: 0;
          width: 100%;
        }
      }/* @media (min-width: 768px) */
   </style>
   
   <body>
      <!-- .navbar-expand-{sm|md|lg|xl}決定在哪個斷點以上就出現漢堡式選單 -->
      <!-- .navbar-dark 設定文字顏色為白色 -->
      <!-- .bg-primary 背景顏色設為藍色 -->
      <nav class="navbar navbar-expand-sm navbar-dark bg-primary">
         <!--  -->
         <div class="abs">
            <button id="ID_MenuToggle" class="fa fa-exchange btn btn-primary" style="margin-bottom:3px"></button><!-- margin-bottom 加上 8px 是為了調整居中的位置 -->
            <a class="navbar-brand d-none d-xl-inline" href="#"          >Flow7Simulator</a>
            <a class="navbar-brand d-none d-lg-inline d-xl-none" href="#">Flow7Sim</a>
            <a class="navbar-brand d-inline d-lg-none" href="#"          >F7Sim</a>
         </div>
         <!-- .collapse.navbar-collapse 用於外層中斷點群組和隱藏導覽列內容 -->
         <div class="navbar-collapse collapse" id="collapsingNavbar">
            <ul class="navbar-nav">
               <!-- active表示當前頁面 -->
               <li class="nav-item active">
                  <a class="nav-link d-none d-xl-block" href="#"          >我申請的表單</a> <!-- XL 才顯示 -->
                  <a class="nav-link d-none d-lg-block d-xl-none" href="#">我的表單</a>     <!-- LG 才顯示 -->
                  <a class="nav-link d-none d-md-block d-lg-none" href="#">我的單</a>       <!-- = MD 才顯示 -->
                  <a class="nav-link d-none d-sm-block d-md-none" href="#">我單</a>         <!-- = SM 才顯示 -->
                  <a class="nav-link d-block d-sm-none" href="#"          >我申請的表單</a> <!-- ≥ SM 隱藏-->
               </li>
               <li class="nav-item">
                  <a class="nav-link d-none d-xl-block" href="#"          >我的待簽表單</a>
                  <a class="nav-link d-none d-lg-block d-xl-none" href="#">待簽表單</a>
                  <a class="nav-link d-none d-md-block d-lg-none" href="#">待簽單</a>       <!-- = MD 才顯示 -->
                  <a class="nav-link d-none d-sm-block d-md-none" href="#">待簽</a>         <!-- = SM 才顯示 -->
                  <a class="nav-link d-block d-sm-none" href="#"          >我的待簽表單</a> <!-- ≥ SM 隱藏-->
               </li>
               <li class="nav-item">
                  <a class="nav-link d-none d-xl-block" href="#"          >進行中表單</a>
                  <a class="nav-link d-none d-lg-block d-xl-none" href="#">進行中單</a>
                  <a class="nav-link d-none d-md-block d-lg-none" href="#">進行中</a>       <!-- = MD 才顯示 -->
                  <a class="nav-link d-none d-sm-block d-md-none" href="#">進行</a>         <!-- = SM 才顯示 -->
                  <a class="nav-link d-block d-sm-none" href="#"          >進行中表單</a>   <!-- ≥ SM 隱藏-->
               </li>
               <li class="nav-item">
                  <a class="nav-link d-none d-xl-block" href="#"          >己完結表單</a>
                  <a class="nav-link d-none d-lg-block d-xl-none" href="#">己完結單</a>
                  <a class="nav-link d-none d-md-block d-lg-none" href="#">己完結</a>       <!-- = MD 才顯示 -->
                  <a class="nav-link d-none d-sm-block d-md-none" href="#">完結</a>         <!-- = SM 才顯示 -->
                  <a class="nav-link d-block d-sm-none" href="#"          >己完結表單</a>   <!-- ≥ SM 隱藏-->
               </li>
               <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">工具</a>
                  <!-- .dropdown-menu 下拉選單內容 -->
                  <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                     <a class="dropdown-item" href="#">組織樹維護</a>
                     <a class="dropdown-item" href="#">角色維護</a>
                     <a class="dropdown-item" href="#">請假單維護</a>
                     <a class="dropdown-item" href="#">職稱表維護</a>
                     <a class="dropdown-item" href="#">部門層級維護</a>
                     <a class="dropdown-item" href="#">核決權限表維護</a>
                     <a class="dropdown-item" href="#">表單代理維護</a>
                     <a class="dropdown-item" href="#">特殊簽核權維護</a>
                  </div>
               </li>
            </ul>
            <ul class="navbar-nav">
               <li class="nav-item">
                  <a class="nav-link d-none d-md-block" href="#"          >流程列表</a>   <!-- ≥ MD 以上才顯示 -->
                  <a class="nav-link d-none d-sm-block d-md-none" href="#">流程</a>       <!-- = SM 才顯示 -->
                  <a class="nav-link d-block d-sm-none" href="#"          >流程列表</a>   <!-- ≥ SM 隱藏-->
               </li>
            </ul>
         </div>
         <!-- .navbar-toggler 漢堡式選單按鈕 -->
         <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsingNavbar">
         <span class="navbar-toggler-icon small"></span>
         </button>
         <div class="d-none d-lg-block w-25" id="collapsingNavbar2" style="max-width: 200px;"> <!-- 只有 w-25 w-50 w-75 w-100 --><!-- ≥ LG 才顯示 -->
            <div class="input-group input-group-sm">
               <input type="text" class="form-control border-0" placeholder="Search" id="mail">
               <div class="input-group-append">
                  <span class="input-group-text fa fa-search"></span>
               </div>
            </div>
         </div>
         <div class="nav-link d-block d-lg-none"><!-- ≥ LG 以上隱藏-->
            <span class="input-group-text fa fa-search"></span>
         </div>
         <ul class="navbar-nav">
            <li>
               <a class="nav-link d-none d-md-block" data-toggle="modal" data-target="#ID_LoginDialog" href="#"><span class="fa fa-user"></span>&nbsp;登入</a><!-- ≥ MD 才顯示-->
               <a class="nav-link d-block d-md-none" data-toggle="modal" data-target="#ID_LoginDialog" href="#"><span class="fa fa-user"></span></a><!-- ≥ MD 隱藏-->
            </li>
         </ul>
      </nav>
      <div class="d-flex" id="wrapper">
         <!-- Sidebar -->
         <div class="bg-light border-right" id="sidebar-wrapper">
            <div style="width:15rem">SideBar</div>
         </div>
         <!-- /#sidebar-wrapper -->
         <!-- Page Content -->
         <div id="page-content-wrapper">
            <div class="my-3">
               Current breakpoint:
               <span class="badge badge-primary d-inline d-sm-none">xs</span>
               <span class="d-inline d-sm-none">&lt; 576px</span>  
               <span class="badge badge-primary d-none d-sm-inline d-md-none">sm</span> 
               <span class="d-none d-sm-inline d-md-none">&gt;= 576px</span> 
               <span class="badge badge-primary d-none d-md-inline d-lg-none">md</span> 
               <span class="d-none d-md-inline d-lg-none">&gt;= 768px</span> 
               <span class="badge badge-primary d-none d-lg-inline d-xl-none">lg</span> 
               <span class="d-none d-lg-inline d-xl-none">&gt;= 992px</span> 
               <span class="badge badge-primary d-none d-xl-inline">xl</span> 
               <span class="d-none d-xl-inline">&gt;= 1200px</span> 
            </div>
            <div class="container-fluid">
               <h1 class="mt-4">Simple Sidebar</h1>
               <p>The starting state of the menu will appear collapsed on smaller screens, and will appear non-collapsed on larger screens. When toggled using the button below, the menu will change.</p>
               <p>Make sure to keep all page content within the <code>#page-content-wrapper</code>. The top navbar is optional, and just for demonstration. Just create an element with the <code>#ID_MenuToggle</code> ID which will toggle the menu when clicked.</p>
            </div>
         </div>
         <!-- /#page-content-wrapper -->
      </div>
      
      

      
      

      <div class="modal fade" id="ID_LoginDialog">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <!-- Modal Header -->
               <div class="modal-header">
                  <h4 class="modal-title">登入帳號</h4>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
               </div>
               <!-- Modal body -->
               <div class="modal-body">


                  <form id="ID_LoginForm">
                     <div class="form-group">
                        <label for="ID_AccountEdit">UserName</label>
                        <input type="text" class="form-control" id="ID_AccountEdit" placeholder="UserName" required>
                     </div>
                     <div class="form-group">
                        <label for="ID_PasswordEdit">Password</label>
                        <input type="password" class="form-control" id="ID_PasswordEdit" placeholder="Password" required>
                     </div>
                     <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="exampleCheck1">Remember Me</label>
                     </div>
                     <button type="submit" class="btn btn-primary form-control mt-4">Submit</button>
                  </form>
               </div>
               <!-- Modal footer -->
               <div class="modal-footer">
                  <i>必需使用 Administrator 帳號登入</i>
               </div>
            </div>
         </div>
      </div>




      
      <!-- Optional JavaScript -->
      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
      <script src="NewAuth3ty.js" data-baseURL="http://www.einstand.idv.tw/Flow7BackendServer/"></script>

      <!-- Menu Toggle Script -->
      <script>
         function loginSuccess(token)
         {
            alert("Login OK "+token);
           //var hiddenToken=$("#hiddenToken");
           //hiddenToken.val(token);
           //P_tokenOutput.innerHTML="Login Success '"+token+"'";
           //$("#form1").submit();
         }

         function loginFail(result)
         {
            //P_tokenOutput.innerHTML = "Login Fail";
            alert("Login Fail");
         }
         
         function loginError(result)
         {
            //P_tokenOutput.innerHTML = "Login Fail";
            alert("[Login Error] "+result);
         }
         
         function helloSuccess(result)
         {
            var passwordEdit= document.getElementById('ID_PasswordEdit');
            window.NewAu30API.login(passwordEdit.value,loginSuccess,loginFail,loginError);
         }
         
         function NewAuth3tyGetToken()
         {
            var accountEdit= document.getElementById('ID_AccountEdit');
            window.NewAu30API.hello(accountEdit.value,helloSuccess);
         }
         
         $(document).ready(function(){
            $("#ID_MenuToggle").click(function(e) {
               e.preventDefault();
               $("#wrapper").toggleClass("toggled");
            });
            
            $("#ID_LoginForm").submit(function(e) {
               e.preventDefault();
               //alert("Login OK");
               NewAuth3tyGetToken();
               //$("#ID_LoginDialog").modal("hide");
            });
            
            $("#ID_LoginDialog").modal(); <!-- 顯示 Dialog -->
         });
      </script>
   </body>
</html>

